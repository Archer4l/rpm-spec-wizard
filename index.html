<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/patternfly/3.24.0/css/patternfly.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/patternfly/3.24.0/css/patternfly-additions.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/patternfly/3.24.0/js/patternfly.min.js"></script>
</head>
<body>
<button class="btn btn-default wizard-pf-open wizard-pf-complete" data-target="#complete">Launch wizard</button>

<div class="container-fluid">
  <div class="row">
    <div class="col-xs-12">
      <h2>RPM Spec Wizard</h2>
    </div>
  </div>
</div>
    <div class="wizard-embedded-pf">
      <div class="wizard-pf-body clearfix">
        <div class="wizard-pf-steps hidden">
          <ul class="wizard-pf-steps-indicator wizard-pf-steps-alt-indicator active">
            <li class="wizard-pf-step active" data-tabgroup="1">
              <a><span class="wizard-pf-step-number">1</span><span class="wizard-pf-step-title">Preamble</span>
              </a>
            </li>

            <li class="wizard-pf-step" data-tabgroup="2">
              <a>
                <span class="wizard-pf-step-number">2</span>
                <span class="wizard-pf-step-title">Second Step</span>
                <span class="wizard-pf-step-title-substep">details</span>
                <span class="wizard-pf-step-title-substep">settings</span>
              </a>
            </li>

            <li class="wizard-pf-step" data-tabgroup="3">
              <a>
                <span class="wizard-pf-step-number">3</span>
                <span class="wizard-pf-step-title">Your SPEC File</span>
              </a>
            </li>
          </ul>

        </div>

        <div class="wizard-pf-row">
          <div class="wizard-pf-sidebar hidden">
            <ul class="list-group">
              <li class="list-group-item active">
                <a href="#">
                  <span class="wizard-pf-step-alt-substep active">1A.</span>
                  <span class="wizard-pf-step-alt-substep-title">Package Name</span>
                </a>
              </li>
              <li class="list-group-item">
                <a href="#">
                  <span class="wizard-pf-step-alt-substep-number">1B.</span>
                  <span class="wizard-pf-step-alt-substep-title">Version</span>
                </a>
              </li>
              <li class="list-group-item"> 
                <a href="#">
                  <span class="wizard-pf-step-alt-substep-number">1C.</span>
                  <span class="wizard-pf-step-alt-substep-title">Summary</span>
                </a>
              </li>
              <li class="list-group-item">
                <a href="#">
                  <span class="wizard-pf-step-alt-substep-number">1D.</span>
                  <span class="wizard-pf-step-alt-substep-title">Description</span>
                </a>
              </li>
              <li class="list-group-item">
                <a href="#">
                  <span class="wizard-pf-step-alt-substep-number">1E.</span>
                  <span class="wizard-pf-step-alt-substep-title">License</span>
                </a>
              </li>
              <li class="list-group-item">
                <a href="#">
                  <span class="wizard-pf-step-alt-substep-number">1F.</span>
                  <span class="wizard-pf-step-alt-substep-title">URL</span>
                </a>
              </li>
            </ul>
            <ul class="list-group hidden">
              <li class="list-group-item">
                <a href="#">
                  <span class="wizard-pf-step-alt-substep-number">2A.</span>
                  <span class="wizard-pf-step-alt-substep-title">Details</span>
                </a>
              </li>
              <li class="list-group-item">
                <a href="#">
                  <span class="wizard-pf-step-alt-substep-number">2B.</span>
                  <span class="wizard-pf-step-alt-substep-title">Settings</span>
                </a>
              </li>
            </ul>
            <ul class="list-group hidden">
              <li class="list-group-item">
                <a>
                  <span class="wizard-pf-step-alt-substep-number">3A.</span>
                  <span class="wizard-pf-step-alt-substep-title">Summary</span>
                </a>
              </li>
            </ul>
          </div> <!-- /.wizard-pf-sidebar -->
          <div class="wizard-pf-main">
            <div class="wizard-pf-loading blank-slate-pf">
              <div class="spinner spinner-lg blank-slate-pf-icon"></div>
              <h3 class="blank-slate-pf-main-action">Loading Wizard</h3>
              <p class="blank-slate-pf-secondary-action">Wait a moment please. </p>
            </div>
            <div class="wizard-pf-contents hidden">
              <form class="form-horizontal">
                <!-- replacing id with data-id to pass build errors -->
                <div class="form-group required">
                  <label class="col-sm-2 control-label" for="package-name-input">Package Name</label>
                  <div class="col-sm-10">
                    <input type="text" data-id="textInput-markup" class="form-control" id="package-name-input" onchange="refreshSpec()">
                  </div>
                </div>
                <div class="form-group">
                  <p>Package names should be in lower case and use dashes in preference to underscores</p>
                  <p>For more information see <a href="https://fedoraproject.org/wiki/Packaging:Naming?rd=Packaging:NamingGuidelines">Guidelines for Naming Fedora Packages</a>.</p>
                </div>
              </form>
            </div>
            <div class="wizard-pf-contents hidden">
              <form class="form-horizontal">
                <div class="form-group required">
                  <label class="col-sm-2 control-label" for="package-version-input">Version</label>
                  <div class="col-sm-10">
                    <input type="text" id="package-version-input" class="form-control" onchange="refreshSpec()">
                  </div>
                </div>
                <div class="form-group">                                                                                
                  <p>Provide information about the upstream version of the packaged software to users.</p>              
                </div> 
                <div class="form-group">
                  <label class="col-sm-2 control-label" for="package-release-input">Release</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" id="package-release-input" placeholder="1%{?dist}" onchange="refreshSpec()">
                  </div>
                </div>
                <div class="form-group">                                                                                
                  <p>Use an integer beginning with 1 and increasing for each revision of the package. Put '%{?dist}'
                     after the number.</p> 
                  <p>For more information see <a href="https://fedoraproject.org/wiki/Packaging:Versioning">Guidelines for Versioning Fedora Packages</a> and an <a href="https://fedoraproject.org/wiki/Package_Versioning_Examples">examples</a>.</p>
                </div> 
              </form>
            </div>
            <div class="wizard-pf-contents hidden">
              <form class="form-horizontal">
                <div class="form-group required">
                  <label class="col-sm-2 control-label" for="package-summary-input">Summary</label>
                  <div class="col-sm-10">
                    <input type="text" id="package-summary-input" class="form-control" onchange="refreshSpec()">
                  </div>
                </div>
                <div class="form-group">
                  <p>The summary should be a short and concise description of the package.</p>
                  <p>For more information see <a href="https://fedoraproject.org/wiki/Packaging:Guidelines#Summary_and_description">summary guidelines</a>.</p>
                </div>
              </form>
            </div>
            <div class="wizard-pf-contents hidden">
              <form class="form-horizontal">
                <div class="form-group required">
                  <label class="col-sm-2 control-label" for="package-description-input">Description</label>
                  <div class="col-sm-10">
                    <textarea id="package-description-input" class="form-control" rows="5" onchange="refreshSpec()"></textarea>
                  </div>
                </div>
                <div class="form-group">
                  <p>The description expands previously defined Summary. This can be one or few paragraphs. Do not include installation instructions in the description; it is not a manual. If the package requires some manual configuration or there are other important instructions to the user, refer the user to the documentation in the package. Add a README.Fedora, or similar, if you feel this is necessary.</p>
                  <p>For more information see <a href="https://fedoraproject.org/wiki/Packaging:Guidelines#Summary_and_description">description guidelines</a>.</p>
                </div>
              </form>
            </div>
            <div class="wizard-pf-contents hidden">
              <form class="form-horizontal">
                <div class="form-group required">
                  <label class="col-sm-2 control-label" for="package-license-input">License</label>
                  <div class="col-sm-10">
                    <input type="text" id="package-license-input" class="form-control" placeholder="GPLv2" onchange="refreshSpec()">
                  </div>
                </div>
                <div class="form-group">
                  <p>This field must be filled with the appropriate license Short Names(s) from the "Good License" tables on the <a href="https://fedoraproject.org/wiki/Licensing:Main?rd=Licensing#Software_License_List">Fedora Licensing page</a>.</p>
                  <p>When your package is not licensed under one of "Good License" you can put here whatever you want. E.g., "Proprietary" or "Distributable", but you should really check that you are not violating upstream copyright.</p>
                  <p>Good start to check license of your package is to search sources for files like `LICENSE`, `COPYING`. Additionaly, you can use <a href="http://search.cpan.org/dist/App-Licensecheck/bin/licensecheck">licensecheck</a> (package <a hfre="https://apps.fedoraproject.org/packages/licensecheck">licensecheck</a>): <code>licensecheck $(find -type f)</code></p>
                  <p>For more information see <a href="https://fedoraproject.org/wiki/Packaging:LicensingGuidelines">Licensing Guidelines</a>.</p>
                </div>
              </form>
            </div>
            <div class="wizard-pf-contents hidden">
              <form class="form-horizontal">
                <div class="form-group required">
                  <label class="col-sm-2 control-label" for="package-url-input">URL</label>
                  <div class="col-sm-10">
                    <input type="text" id="package-url-input" class="form-control" placeholder="https://some.project.org/" onchange="refreshSpec()">
                  </div>
                </div>
                <div class="form-group">
                  <p>Link to the software homepage.</p>
                </div>
              </form>
            </div>
            <div class="wizard-pf-contents hidden">
              <form class="form-horizontal">
                <div class="form-group required">
                  <label class="col-sm-2 control-label" for="aliquam">Aliquam</label>
                  <div class="col-sm-10">
                    <input type="text" id="aliquam" class="form-control">
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label" for="fermentum">Fermentum</label>
                  <div class="col-sm-10">
                    <textarea id="fermentum" class="form-control" rows="2"></textarea>
                  </div>
                </div>
              </form>
            </div>
            <div class="wizard-pf-contents hidden">
              <form class="form-horizontal">
                <div class="form-group required">
                  <label class="col-sm-2 control-label" for="consectetur">Consectetur</label>
                  <div class="col-sm-10">
                    <input type="text" id="consectetur" class="form-control">
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label" for="adipiscing">Adipiscing</label>
                  <div class="col-sm-10">
                    <textarea id="adipiscing" class="form-control" rows="2"></textarea>
                  </div>
                </div>
              </form>
            </div>
            <div class="wizard-pf-contents hidden">
              <div class="wizard-pf-review-steps">
<script>
//var firstName = document.getElementsByName("package-name-input")[0].value;
function refreshSpec() {
document.querySelector('.result .package-name').innerHTML = document.getElementById('package-name-input').value;
document.querySelector('.result .package-version').innerHTML = document.getElementById('package-version-input').value;
document.querySelector('.result .package-release').innerHTML = document.getElementById('package-release-input').value;
document.querySelector('.result .package-summary').innerHTML = document.getElementById('package-summary-input').value;
document.querySelector('.result .package-license').innerHTML = document.getElementById('package-license-input').value;
document.querySelector('.result .package-description').innerHTML = document.getElementById('package-description-input').value;
document.querySelector('.result .package-url').innerHTML = document.getElementById('package-url-input').value;
}
</script>
<div class="result">
  <button onclick="refreshSpec()">Refresh</button>
<pre class="prettyprint">
Name:                    <span class="package-name"></span>
Version:                 <span class="package-version"></span>
Release:                 <span class="package-release"></span>
Summary:                 <span class="package-summary"></span>

License:                 <span class="package-license"></span>
URL:                     <span class="package-url"></span>
Source0:

BuildRequires:
Requires:

%description
<span class="package-description"></span>

%prep
%setup -q


%build
%configure
make %{?_smp_mflags}


%install
%make_install


%files
%doc



%changelog
</pre>
</div>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
              </div>
            </div>
          </div><!-- /.wizard-pf-main -->
        </div>

      </div><!-- /.wizard-pf-body -->

      <div class="modal-footer wizard-pf-footer">
        <button type="button" class="btn btn-default btn-cancel wizard-pf-cancel wizard-pf-dismiss">Cancel</button>
        <button type="button" class="btn btn-default wizard-pf-back disabled">
          <span class="i fa fa-angle-left"></span>
          Back
        </button>
        <button type="button" class="btn btn-primary wizard-pf-next">
          Next
          <span class="i fa fa-angle-right"></span>
        </button>
        <button type="button" class="btn btn-primary hidden wizard-pf-close wizard-pf-dismiss">Close</button>

      </div><!-- /.wizard-pf-footer -->

    </div><!-- /.wizard-embedded-pf -->

<script>

  $(document).ready(function() {
    //initialize wizard
    var embeddedWizard = $(".wizard-embedded-pf");
    if (embeddedWizard.length > 0) {
      new wizard(".wizard-embedded-pf", true);
    } else {
      new wizard(".btn.wizard-pf-complete");
    }
  });

  var wizard = function(id, embedded) {
    var self = this;
    self.id = id;

    this.init = function(wizardContainer){
      self.wizardContainer = wizardContainer;
      self.modal = wizardContainer;

      self.resetToInitialState();

      // assign data attribute to all tabs
      $(self.modal + " .wizard-pf-sidebar .list-group-item").each(function() {
        // set the first digit (i.e. n.0) equal to the index of the parent tab group
        // set the second digit (i.e. 0.n) equal to the index of the tab within the tab group
        $(this).attr("data-tab", ($(this).parent().index() +1 + ($(this).index()/10 + .1)));
      });
      // assign data attribute to all tabgroups
      $(self.modal + " .wizard-pf-sidebar .list-group").each(function() {
        // set the value equal to the index of the tab group
        $(this).attr("data-tabgroup", ($(this).index() +1));
      });

      // assign data attribute to all step indicator steps
      $(self.modal + " .wizard-pf-steps-indicator  .wizard-pf-step").each(function() {
        // set the value equal to the index of the tab group
        $(this).attr("data-tabgroup", ($(this).index() +1));
      });
      // assign data attribute to all step indicator substeps
      $(self.modal + " .wizard-pf-steps-indicator .wizard-pf-step-title-substep").each(function() {
        // set the first digit (i.e. n.0) equal to the index of the parent tab group
        // set the second digit (i.e. 0.n) equal to the index of the tab within the tab group
        $(this).attr("data-tab", ($(this).parent().parent().index() + 1 + (($(this).index() - 2)/10 + .1)));
      });

      // assign data attribute to all alt step indicator steps
      $(self.modal + " .wizard-pf-steps-alt .wizard-pf-step-alt").each(function() {
        // set the value equal to the index of the tab group
        var tabGroup = $(this).index() + 1;
        $(this).attr("data-tabgroup", tabGroup);
        $(this).find('.wizard-pf-step-alt-substep').each(function() {
          $(this).attr("data-tab", (tabGroup + (($(this).index() + 1)/10)));
        });
      });

      // assign active and hidden states to teh steps alt classes
      $(self.modal + " .wizard-pf-steps-alt-indicator").removeClass('active');
      $(self.modal + " .wizard-pf-steps-alt").addClass('hidden');
      $(self.modal + " .wizard-pf-steps-alt-indicator").on('click', function() {
        $(self.modal + ' .wizard-pf-steps-alt-indicator').toggleClass('active');
        $(self.modal + ' .wizard-pf-steps-alt').toggleClass('hidden');
      });
      $(self.modal + " .wizard-pf-step-alt > ul").addClass("hidden");

      // create array of all tabs, using the data attribute, and determine the last tab
      self.tabs = $(self.modal + " .wizard-pf-sidebar .list-group-item" ).map(function()
        {
          return $(this).data("tab");
        }
      );
      self.tabCount = self.tabs.length;
      self.tabSummary = self.tabs[self.tabCount - 1]; // second to last tab displays summary
//      self.tabLast = self.tabs[self.tabCount - 1]; // last tab displays progress
      // set first tab group and tab as current tab
      // if someone wants to target a specific tab, that could be handled here
      self.currentGroup = 1;
      self.currentTab = 1.1;

      setTimeout(function() {
        // hide loading message
        $(self.modal + " .wizard-pf-loading").addClass("hidden");
        // show tabs and tab groups
        $(self.modal + " .wizard-pf-steps").removeClass("hidden");
        $(self.modal + " .wizard-pf-sidebar").removeClass("hidden");
        // remove active class from all tabs
        $(self.modal + " .wizard-pf-sidebar .list-group-item.active").removeClass("active");

        self.updateToCurrentPage();
      }, 3000);

      //initialize click listeners
      self.tabGroupSelect();
      self.tabSelect();
      self.altStepClick();
      self.altSubStepClick();
      self.backBtnClicked();
      self.nextBtnClicked();
      self.cancelBtnClick();

      // Listen for required value change
      self.detailsNameChange();
    };

    // update which tab group is active
    this.updateTabGroup = function() {
      $(self.modal + " .wizard-pf-step.active").removeClass("active");
      $(self.modal + " .wizard-pf-step[data-tabgroup='" + self.currentGroup + "']").addClass("active");
      $(self.modal + " .wizard-pf-sidebar .list-group").addClass("hidden");
      $(self.modal + " .list-group[data-tabgroup='" + self.currentGroup + "']").removeClass("hidden");
      $(self.modal + " .wizard-pf-step-alt[data-tabgroup='" + self.currentGroup + "']").addClass("viewed");
      $(self.modal + " .wizard-pf-step-alt > ul").addClass("hidden");
      $(self.modal + " .wizard-pf-step-alt[data-tabgroup='" + self.currentGroup + "'] > ul").removeClass("hidden");
    };

    // update which tab is active
    this.updateActiveTab = function() {
      $(self.modal + " .list-group-item.active").removeClass("active");
      $(self.modal + " .list-group-item[data-tab='" + self.currentTab + "']").addClass("active");

      // Update steps indicator to handle mobile mode
      $(self.modal + " .wizard-pf-steps-indicator .wizard-pf-step-title-substep").removeClass("active");
      $(self.modal + " .wizard-pf-steps-indicator .wizard-pf-step-title-substep[data-tab='" + self.currentTab + "']").addClass("active");

      // Update steps alt indicator to handle mobile mode
      $(self.modal + " .wizard-pf-step-alt .wizard-pf-step-alt-substep").removeClass("active");
      $(self.modal + " .wizard-pf-step-alt .wizard-pf-step-alt-substep[data-tab='" + self.currentTab + "']").addClass("active");

      self.updateVisibleContents();
    };

    // update which contents are visible
    this.updateVisibleContents = function() {
      var tabIndex = ($.inArray(self.currentTab, self.tabs));
      // displaying contents associated with currentTab
      $(self.modal + " .wizard-pf-contents").addClass("hidden");
      $(self.modal + " .wizard-pf-contents:eq(" + tabIndex + ")").removeClass("hidden");
      // setting focus to first form field in active contents
      setTimeout (function() {
        $(".wizard-pf-contents:not(.hidden) form input, .wizard-pf-contents:not(.hidden) form textarea, .wizard-pf-contents:not(.hidden) form select").first().focus(); // this does not account for disabled or read-only inputs
      }, 100);
    };

    // update display state of Back button
    this.updateBackBtnDisplay = function() {
      if (self.currentTab == self.tabs[0]) {
        $(self.modal + " #wizard-pf-back").addClass("disabled");
      } else {
        $(self.modal + " #wizard-pf-back").removeClass("disabled");
      }
    };

    // update display state of next button
    this.updateNextBtnDisplay = function() {
      if (self.currentTab == self.tabSummary) {
        $(self.modal + " #wizard-pf-next").addClass("hidden");
      } else {
        $(self.modal + " #wizard-pf-next").removeClass("hidden");
      }
    };

    // update display state of buttons in the footer
    this.updateWizardFooterDisplay = function() {
      self.updateBackBtnDisplay();
      self.updateNextBtnDisplay();
    };


    this.updateToCurrentPage = function() {
      self.updateTabGroup();
      self.updateActiveTab();

      self.updateVisibleContents();

      self.updateWizardFooterDisplay();
    };

    // when the user clicks a step, then the tab group for that step is displayed
    this.tabGroupSelect = function() {
      $(self.modal + " .wizard-pf-step>a").click(function() {
        self.currentGroup = $(this).parent().data("tabgroup");
        // update value for currentTab -- if a tab is already marked as active
        // for the new tab group, use that, otherwise set it to the first tab
        // in the tab group
        self.currentTab = $(self.modal + " .list-group[data-tabgroup='" + self.currentGroup + "'] .list-group-item.active").data("tab");
        if (self.currentTab === undefined) {
          self.currentTab = self.currentGroup + 0.1;
        }

        self.updateToCurrentPage();
      });
    };

    // when the user clicks a tab, then the tab contents are displayed
    this.tabSelect = function() {
      $(self.modal + " .wizard-pf-sidebar .list-group-item>a").click(function() {
        // update value of currentTab to new active tab
        self.currentTab = $(this).parent().data("tab");
        self.updateToCurrentPage();
      });
    };

    this.altStepClick = function() {
      $(self.modal + " .wizard-pf-step-alt").each(function() {
        var $this = $(this);
        $this.find('> a').on('click', function() {
          var subStepList = $this.find('> ul');
          if (subStepList && (subStepList.length > 0)) {
            $this.find('> ul').toggleClass('hidden');
          } else {
            self.currentGroup = $this.data("tabgroup");
          }
        });
      });
    };

    this.altSubStepClick = function() {
      $(self.modal + " .wizard-pf-step-alt .wizard-pf-step-alt-substep > a").on('click', function() {
        // update value of currentTab to new active tab
        self.currentTab = $(this).parent().data("tab");
        self.currentGroup = $(this).parent().parent().parent().data("tabgroup");

        self.updateToCurrentPage();
      });
    };
    // Back button clicked
    this.backBtnClicked = function() {
      $(self.modal + " #wizard-pf-back").click(function() {
        // if not the first page
        if (self.currentTab != self.tabs[0]) {
          // go back a page (i.e. -1)
          self.wizardPaging(-1);
          // show/hide/disable/enable buttons if needed
          self.updateWizardFooterDisplay();
        }
      });
    };

    // Next button clicked
    this.nextBtnClicked = function() {
      $(self.modal + " #wizard-pf-next").click(function() {
        // go forward a page (i.e. +1)
        self.wizardPaging(1);
        // show/hide/disable/enable buttons if needed
        self.updateWizardFooterDisplay();
      });
    };

    this.detailsNameChange = function() {
      $(self.modal + " #detailsName").on('change', function() {
        if ($(self.modal + " #detailsName").val()) {
          $(self.modal + " .wizard-pf-step-alt-substep").removeClass('disabled');
          $(self.modal + " #wizard-pf-next").removeClass("disabled");
        } else {
          $(self.modal + " .wizard-pf-step-alt-substep").addClass('disabled');
          $(self.modal + " .wizard-pf-step-alt-substep.active").removeClass('disabled');
          $(self.modal + " #wizard-pf-next").addClass("disabled");
        }
      });
    };

    this.resetToInitialState = function() {
      // drop click event listeners
      $(self.modal + " .wizard-pf-step>a").off("click");
      $(self.modal + " .wizard-pf-sidebar .list-group-item>a").off("click");
      $(self.modal + " .wizard-pf-steps-alt-indicator").off('click');
      $(self.modal + " .wizard-pf-step-alt > a").off('click');
      $(self.modal + " #wizard-pf-back").off("click");
      $(self.modal + " #wizard-pf-next").off("click");
      $(self.modal + " .wizard-pf-close").off("click");

      $(self.modal + " #detailsName").off('change');

      // reset final step
      $(self.modal + " .wizard-pf-process").removeClass("hidden");
      $(self.modal + " .wizard-pf-complete").addClass("hidden");
      // reset loading message
      $(self.modal + " .wizard-pf-contents").addClass("hidden");
      $(self.modal + " .wizard-pf-loading").removeClass("hidden");
      // remove tabs and tab groups
      $(self.modal + " .wizard-pf-steps").addClass("hidden");
      $(self.modal + " .wizard-pf-sidebar").addClass("hidden");
      // reset buttons in final step
      $(self.modal + " .wizard-pf-close").addClass("hidden");
      $(self.modal + " .wizard-pf-cancel").removeClass("hidden");
    };

    // Cancel/Close button clicked
    this.cancelBtnClick = function() {
      $(self.modal + " .wizard-pf-close").click(function() {
        // close the modal
        $(self.modal).modal('hide');
        self.resetToInitialState();
      });
    };

    // when the user clicks Next/Back, then the next/previous tab and contents display
    this.wizardPaging = function(direction) {
      // get n.n value of next tab using the index of next tab in tabs array
      var tabIndex = ($.inArray(self.currentTab, self.tabs)) + direction;
      var newTab = self.tabs[tabIndex];
      // add/remove active class from current tab group
      // included math.round to trim off extra .000000000002 that was getting added
      if (newTab != Math.round(10*(direction*.1 + self.currentTab))/10) {
        // this statement is true when the next tab is in the next tab group
        // if next tab is in next tab group (e.g. next tab data-tab value is
        // not equal to current tab +.1) then apply active class to next
        // tab group and step, and update the value for var currentGroup +/-1
        self.currentGroup = self.currentGroup + direction;
        self.updateTabGroup();
      }
      self.currentTab = newTab;
      // remove active class from active tab in current tab group
      $(self.modal + " .list-group[data-tabgroup='" + self.currentGroup + "'] .list-group-item.active").removeClass("active");
      // apply active class to new current tab and associated contents
      self.updateActiveTab();
    };

    if (!embedded) {
      $(self.id).click(function() {
        var modal = $(this).data("target");
        // open modal
        $(modal).modal('show');

        self.init(modal)
      });
    } else {
      self.init(self.id);
    }
  };

</script>
</body>
</html>
